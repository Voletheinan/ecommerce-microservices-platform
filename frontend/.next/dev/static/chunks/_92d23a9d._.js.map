{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/ecomerce-microservices-platform/frontend/contexts/cart-context.tsx"],"sourcesContent":["\"use client\"\n\nimport { createContext, useContext, useState, type ReactNode } from \"react\"\nimport type { Product } from \"@/lib/mock-data\"\n\nexport interface CartItem {\n  product: Product\n  quantity: number\n}\n\ninterface CartContextType {\n  items: CartItem[]\n  addToCart: (product: Product, quantity?: number) => void\n  removeFromCart: (productId: string) => void\n  updateQuantity: (productId: string, quantity: number) => void\n  clearCart: () => void\n  totalItems: number\n  subtotal: number\n  tax: number\n  total: number\n}\n\nconst CartContext = createContext<CartContextType | undefined>(undefined)\n\nexport function CartProvider({ children }: { children: ReactNode }) {\n  const [items, setItems] = useState<CartItem[]>([])\n\n  const addToCart = (product: Product, quantity = 1) => {\n    setItems((prev) => {\n      const existing = prev.find((item) => item.product.id === product.id)\n      if (existing) {\n        return prev.map((item) =>\n          item.product.id === product.id ? { ...item, quantity: item.quantity + quantity } : item,\n        )\n      }\n      return [...prev, { product, quantity }]\n    })\n  }\n\n  const removeFromCart = (productId: string) => {\n    setItems((prev) => prev.filter((item) => item.product.id !== productId))\n  }\n\n  const updateQuantity = (productId: string, quantity: number) => {\n    if (quantity <= 0) {\n      removeFromCart(productId)\n      return\n    }\n    setItems((prev) => prev.map((item) => (item.product.id === productId ? { ...item, quantity } : item)))\n  }\n\n  const clearCart = () => setItems([])\n\n  const totalItems = items.reduce((sum, item) => sum + item.quantity, 0)\n  const subtotal = items.reduce((sum, item) => sum + item.product.price * item.quantity, 0)\n  const tax = subtotal * 0.1\n  const total = subtotal + tax\n\n  return (\n    <CartContext.Provider\n      value={{\n        items,\n        addToCart,\n        removeFromCart,\n        updateQuantity,\n        clearCart,\n        totalItems,\n        subtotal,\n        tax,\n        total,\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  )\n}\n\nexport function useCart() {\n  const context = useContext(CartContext)\n  if (!context) {\n    throw new Error(\"useCart must be used within a CartProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AAsBA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;;IAChE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAa,EAAE;IAEjD,MAAM,YAAY,CAAC,SAAkB,WAAW,CAAC;QAC/C,SAAS,CAAC;YACR,MAAM,WAAW,KAAK,IAAI,CAAC,CAAC,OAAS,KAAK,OAAO,CAAC,EAAE,KAAK,QAAQ,EAAE;YACnE,IAAI,UAAU;gBACZ,OAAO,KAAK,GAAG,CAAC,CAAC,OACf,KAAK,OAAO,CAAC,EAAE,KAAK,QAAQ,EAAE,GAAG;wBAAE,GAAG,IAAI;wBAAE,UAAU,KAAK,QAAQ,GAAG;oBAAS,IAAI;YAEvF;YACA,OAAO;mBAAI;gBAAM;oBAAE;oBAAS;gBAAS;aAAE;QACzC;IACF;IAEA,MAAM,iBAAiB,CAAC;QACtB,SAAS,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,OAAS,KAAK,OAAO,CAAC,EAAE,KAAK;IAC/D;IAEA,MAAM,iBAAiB,CAAC,WAAmB;QACzC,IAAI,YAAY,GAAG;YACjB,eAAe;YACf;QACF;QACA,SAAS,CAAC,OAAS,KAAK,GAAG,CAAC,CAAC,OAAU,KAAK,OAAO,CAAC,EAAE,KAAK,YAAY;oBAAE,GAAG,IAAI;oBAAE;gBAAS,IAAI;IACjG;IAEA,MAAM,YAAY,IAAM,SAAS,EAAE;IAEnC,MAAM,aAAa,MAAM,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,QAAQ,EAAE;IACpE,MAAM,WAAW,MAAM,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,OAAO,CAAC,KAAK,GAAG,KAAK,QAAQ,EAAE;IACvF,MAAM,MAAM,WAAW;IACvB,MAAM,QAAQ,WAAW;IAEzB,qBACE,6LAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;GAnDgB;KAAA;AAqDT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/ecomerce-microservices-platform/frontend/lib/api.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\n// API configuration - using direct service calls for now\r\n// Services: user-service:8001, product-service:8002, favourite-service:8010, etc.\r\nconst getServiceUrl = (path: string): string => {\r\n  // Map API paths to direct service URLs\r\n  if (path.startsWith('/api/users')) {\r\n    return 'http://localhost:8001';\r\n  }\r\n  if (path.startsWith('/api/products')) {\r\n    return 'http://localhost:8002';\r\n  }\r\n  if (path.startsWith('/api/favourites')) {\r\n    return 'http://localhost:8010';\r\n  }\r\n  if (path.startsWith('/api/orders')) {\r\n    return 'http://localhost:8003';\r\n  }\r\n  // Default to API Gateway if available\r\n  return 'http://localhost:80';\r\n};\r\n\r\nconst API_BASE_URL = 'http://localhost:80'; // Will be overridden by getServiceUrl\r\n\r\n// Create axios instance with dynamic base URL\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Request interceptor: set base URL and add auth token\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    // Get service URL based on path\r\n    const serviceUrl = getServiceUrl(config.url || '');\r\n    if (serviceUrl !== API_BASE_URL) {\r\n      config.baseURL = serviceUrl;\r\n    }\r\n    \r\n    // Add auth token\r\n    const token = typeof window !== 'undefined' ? localStorage.getItem('token') : null;\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    \r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor for error handling\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response?.status === 401) {\r\n      // Unauthorized - clear token and redirect to login\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('token');\r\n        window.location.href = '/login';\r\n      }\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,yDAAyD;AACzD,kFAAkF;AAClF,MAAM,gBAAgB,CAAC;IACrB,uCAAuC;IACvC,IAAI,KAAK,UAAU,CAAC,eAAe;QACjC,OAAO;IACT;IACA,IAAI,KAAK,UAAU,CAAC,kBAAkB;QACpC,OAAO;IACT;IACA,IAAI,KAAK,UAAU,CAAC,oBAAoB;QACtC,OAAO;IACT;IACA,IAAI,KAAK,UAAU,CAAC,gBAAgB;QAClC,OAAO;IACT;IACA,sCAAsC;IACtC,OAAO;AACT;AAEA,MAAM,eAAe,uBAAuB,sCAAsC;AAElF,8CAA8C;AAC9C,MAAM,MAAM,mJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,uDAAuD;AACvD,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,gCAAgC;IAChC,MAAM,aAAa,cAAc,OAAO,GAAG,IAAI;IAC/C,IAAI,eAAe,cAAc;QAC/B,OAAO,OAAO,GAAG;IACnB;IAEA,iBAAiB;IACjB,MAAM,QAAQ,uCAAgC,aAAa,OAAO,CAAC,WAAW;IAC9E,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IAEA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,0CAA0C;AAC1C,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,CAAC;IACC,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;QAClC,mDAAmD;QACnD,wCAAmC;YACjC,aAAa,UAAU,CAAC;YACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;QACzB;IACF;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/ecomerce-microservices-platform/frontend/lib/services/favourite.service.ts"],"sourcesContent":["import api from '../api';\r\nimport type { Favourite, Product } from '../types';\r\n\r\nexport const favouriteService = {\r\n  // Get all favourites\r\n  async getFavourites(): Promise<Favourite[]> {\r\n    const response = await api.get<Favourite[]>('/api/favourites');\r\n    return response.data;\r\n  },\r\n\r\n  // Add to favourites\r\n  async addFavourite(productId: string): Promise<Favourite> {\r\n    const response = await api.post<Favourite>('/api/favourites', { productId });\r\n    return response.data;\r\n  },\r\n\r\n  // Remove from favourites\r\n  async removeFavourite(productId: string): Promise<void> {\r\n    await api.delete(`/api/favourites/${productId}`);\r\n  },\r\n\r\n  // Check if product is favourite\r\n  async isFavourite(productId: string): Promise<boolean> {\r\n    try {\r\n      const favourites = await this.getFavourites();\r\n      return favourites.some((fav) => fav.productId === productId);\r\n    } catch {\r\n      return false;\r\n    }\r\n  },\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM,mBAAmB;IAC9B,qBAAqB;IACrB,MAAM;QACJ,MAAM,WAAW,MAAM,wHAAG,CAAC,GAAG,CAAc;QAC5C,OAAO,SAAS,IAAI;IACtB;IAEA,oBAAoB;IACpB,MAAM,cAAa,SAAiB;QAClC,MAAM,WAAW,MAAM,wHAAG,CAAC,IAAI,CAAY,mBAAmB;YAAE;QAAU;QAC1E,OAAO,SAAS,IAAI;IACtB;IAEA,yBAAyB;IACzB,MAAM,iBAAgB,SAAiB;QACrC,MAAM,wHAAG,CAAC,MAAM,CAAC,CAAC,gBAAgB,EAAE,WAAW;IACjD;IAEA,gCAAgC;IAChC,MAAM,aAAY,SAAiB;QACjC,IAAI;YACF,MAAM,aAAa,MAAM,IAAI,CAAC,aAAa;YAC3C,OAAO,WAAW,IAAI,CAAC,CAAC,MAAQ,IAAI,SAAS,KAAK;QACpD,EAAE,OAAM;YACN,OAAO;QACT;IACF;AACF"}},
    {"offset": {"line": 203, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/ecomerce-microservices-platform/frontend/contexts/favourites-context.tsx"],"sourcesContent":["\"use client\"\n\nimport { createContext, useContext, useState, useEffect, type ReactNode } from \"react\"\nimport type { Product, Favourite } from \"@/lib/types\"\nimport { favouriteService } from \"@/lib/services/favourite.service\"\n\ninterface FavouritesContextType {\n  favourites: Product[]\n  addToFavourites: (product: Product) => Promise<void>\n  removeFromFavourites: (productId: string) => Promise<void>\n  clearFavourites: () => Promise<void>\n  isFavourite: (productId: string) => boolean\n  totalFavourites: number\n  loading: boolean\n}\n\nconst FavouritesContext = createContext<FavouritesContextType | undefined>(undefined)\n\nexport function FavouritesProvider({ children }: { children: ReactNode }) {\n  const [favourites, setFavourites] = useState<Product[]>([])\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    const loadFavourites = async () => {\n      try {\n        setLoading(true)\n        const favouritesData = await favouriteService.getFavourites()\n        const products = favouritesData.map((fav: Favourite) => fav.product)\n        setFavourites(products)\n      } catch (error) {\n        console.error('Error loading favourites:', error)\n      } finally {\n        setLoading(false)\n      }\n    }\n    loadFavourites()\n  }, [])\n\n  const addToFavourites = async (product: Product) => {\n    try {\n      await favouriteService.addFavourite(product.id)\n      setFavourites((prev) => {\n        if (prev.find((p) => p.id === product.id)) return prev\n        return [...prev, product]\n      })\n    } catch (error) {\n      console.error('Error adding to favourites:', error)\n      throw error\n    }\n  }\n\n  const removeFromFavourites = async (productId: string) => {\n    try {\n      await favouriteService.removeFavourite(productId)\n      setFavourites((prev) => prev.filter((p) => p.id !== productId))\n    } catch (error) {\n      console.error('Error removing from favourites:', error)\n      throw error\n    }\n  }\n\n  const clearFavourites = async () => {\n    try {\n      // Remove all favourites one by one\n      const productIds = favourites.map((p) => p.id)\n      await Promise.all(productIds.map((id) => favouriteService.removeFavourite(id)))\n      setFavourites([])\n    } catch (error) {\n      console.error('Error clearing favourites:', error)\n      throw error\n    }\n  }\n\n  const isFavourite = (productId: string) => {\n    return favourites.some((p) => p.id === productId)\n  }\n\n  const totalFavourites = favourites.length\n\n  return (\n    <FavouritesContext.Provider\n      value={{\n        favourites,\n        addToFavourites,\n        removeFromFavourites,\n        clearFavourites,\n        isFavourite,\n        totalFavourites,\n        loading,\n      }}\n    >\n      {children}\n    </FavouritesContext.Provider>\n  )\n}\n\nexport function useFavourites() {\n  const context = useContext(FavouritesContext)\n  if (!context) {\n    throw new Error(\"useFavourites must be used within a FavouritesProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAEA;;;AAJA;;;AAgBA,MAAM,kCAAoB,IAAA,8KAAa,EAAoC;AAEpE,SAAS,mBAAmB,EAAE,QAAQ,EAA2B;;IACtE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAY,EAAE;IAC1D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;wCAAC;YACR,MAAM;+DAAiB;oBACrB,IAAI;wBACF,WAAW;wBACX,MAAM,iBAAiB,MAAM,8JAAgB,CAAC,aAAa;wBAC3D,MAAM,WAAW,eAAe,GAAG;oFAAC,CAAC,MAAmB,IAAI,OAAO;;wBACnE,cAAc;oBAChB,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,6BAA6B;oBAC7C,SAAU;wBACR,WAAW;oBACb;gBACF;;YACA;QACF;uCAAG,EAAE;IAEL,MAAM,kBAAkB,OAAO;QAC7B,IAAI;YACF,MAAM,8JAAgB,CAAC,YAAY,CAAC,QAAQ,EAAE;YAC9C,cAAc,CAAC;gBACb,IAAI,KAAK,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,QAAQ,EAAE,GAAG,OAAO;gBAClD,OAAO;uBAAI;oBAAM;iBAAQ;YAC3B;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,MAAM;QACR;IACF;IAEA,MAAM,uBAAuB,OAAO;QAClC,IAAI;YACF,MAAM,8JAAgB,CAAC,eAAe,CAAC;YACvC,cAAc,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QACtD,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,mCAAmC;YACjD,MAAM;QACR;IACF;IAEA,MAAM,kBAAkB;QACtB,IAAI;YACF,mCAAmC;YACnC,MAAM,aAAa,WAAW,GAAG,CAAC,CAAC,IAAM,EAAE,EAAE;YAC7C,MAAM,QAAQ,GAAG,CAAC,WAAW,GAAG,CAAC,CAAC,KAAO,8JAAgB,CAAC,eAAe,CAAC;YAC1E,cAAc,EAAE;QAClB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,MAAM;QACR;IACF;IAEA,MAAM,cAAc,CAAC;QACnB,OAAO,WAAW,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IACzC;IAEA,MAAM,kBAAkB,WAAW,MAAM;IAEzC,qBACE,6LAAC,kBAAkB,QAAQ;QACzB,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;GA5EgB;KAAA;AA8ET,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}},
    {"offset": {"line": 319, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/ecomerce-microservices-platform/frontend/lib/services/user.service.ts"],"sourcesContent":["import api from '../api';\r\nimport type { User, LoginRequest, LoginResponse, RegisterRequest, RegisterResponse } from '../types';\r\n\r\nexport const userService = {\r\n  // Login user\r\n  async login(data: LoginRequest): Promise<LoginResponse> {\r\n    // Backend accepts username or email, so we send email as username\r\n    const response = await api.post<any>('/api/users/login', {\r\n      username: data.email,  // Send email as username (backend accepts both)\r\n      password: data.password\r\n    });\r\n    // Transform response to match frontend expectations\r\n    return {\r\n      token: response.data.access_token || response.data.token,\r\n      user: {\r\n        id: String(response.data.user?.id || response.data.user_id),\r\n        username: response.data.user?.username || data.email.split('@')[0],\r\n        email: response.data.user?.email || response.data.email,\r\n        phone: response.data.user?.phone,\r\n        address: response.data.user?.address,\r\n      }\r\n    };\r\n  },\r\n\r\n  // Register user\r\n  async register(data: RegisterRequest): Promise<RegisterResponse> {\r\n    const response = await api.post<RegisterResponse>('/api/users/register', data);\r\n    return response.data;\r\n  },\r\n\r\n  // Get current user\r\n  async getCurrentUser(): Promise<User> {\r\n    const response = await api.get<User>('/api/users/me');\r\n    return response.data;\r\n  },\r\n\r\n  // Update user profile\r\n  async updateProfile(data: Partial<User>): Promise<User> {\r\n    const response = await api.put<User>('/api/users/me', data);\r\n    return response.data;\r\n  },\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM,cAAc;IACzB,aAAa;IACb,MAAM,OAAM,IAAkB;QAC5B,kEAAkE;QAClE,MAAM,WAAW,MAAM,wHAAG,CAAC,IAAI,CAAM,oBAAoB;YACvD,UAAU,KAAK,KAAK;YACpB,UAAU,KAAK,QAAQ;QACzB;QACA,oDAAoD;QACpD,OAAO;YACL,OAAO,SAAS,IAAI,CAAC,YAAY,IAAI,SAAS,IAAI,CAAC,KAAK;YACxD,MAAM;gBACJ,IAAI,OAAO,SAAS,IAAI,CAAC,IAAI,EAAE,MAAM,SAAS,IAAI,CAAC,OAAO;gBAC1D,UAAU,SAAS,IAAI,CAAC,IAAI,EAAE,YAAY,KAAK,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;gBAClE,OAAO,SAAS,IAAI,CAAC,IAAI,EAAE,SAAS,SAAS,IAAI,CAAC,KAAK;gBACvD,OAAO,SAAS,IAAI,CAAC,IAAI,EAAE;gBAC3B,SAAS,SAAS,IAAI,CAAC,IAAI,EAAE;YAC/B;QACF;IACF;IAEA,gBAAgB;IAChB,MAAM,UAAS,IAAqB;QAClC,MAAM,WAAW,MAAM,wHAAG,CAAC,IAAI,CAAmB,uBAAuB;QACzE,OAAO,SAAS,IAAI;IACtB;IAEA,mBAAmB;IACnB,MAAM;QACJ,MAAM,WAAW,MAAM,wHAAG,CAAC,GAAG,CAAO;QACrC,OAAO,SAAS,IAAI;IACtB;IAEA,sBAAsB;IACtB,MAAM,eAAc,IAAmB;QACrC,MAAM,WAAW,MAAM,wHAAG,CAAC,GAAG,CAAO,iBAAiB;QACtD,OAAO,SAAS,IAAI;IACtB;AACF"}},
    {"offset": {"line": 368, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/ecomerce-microservices-platform/frontend/contexts/auth-context.tsx"],"sourcesContent":["\"use client\"\n\nimport { createContext, useContext, useState, useEffect, type ReactNode } from \"react\"\nimport type { User } from \"@/lib/types\"\nimport { userService } from \"@/lib/services/user.service\"\n\ninterface AuthContextType {\n  user: User | null\n  isAuthenticated: boolean\n  login: (email: string, password: string) => Promise<boolean>\n  register: (email: string, username: string, password: string) => Promise<boolean>\n  logout: () => void\n  loading: boolean\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined)\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<User | null>(null)\n  const [loading, setLoading] = useState(true)\n\n  // Load user from token on mount\n  useEffect(() => {\n    const loadUser = async () => {\n      const token = typeof window !== 'undefined' ? localStorage.getItem('token') : null\n      if (token) {\n        try {\n          const userData = await userService.getCurrentUser()\n          setUser(userData)\n        } catch (error) {\n          // Token invalid, clear it\n          localStorage.removeItem('token')\n        }\n      }\n      setLoading(false)\n    }\n    loadUser()\n  }, [])\n\n  const login = async (email: string, password: string): Promise<boolean> => {\n    try {\n      const response = await userService.login({ email, password })\n      localStorage.setItem('token', response.token)\n      setUser(response.user)\n      return true\n    } catch (error) {\n      console.error('Login error:', error)\n      return false\n    }\n  }\n\n  const register = async (email: string, username: string, password: string): Promise<boolean> => {\n    try {\n      const response = await userService.register({ email, username, password })\n      localStorage.setItem('token', response.token)\n      setUser(response.user)\n      return true\n    } catch (error) {\n      console.error('Register error:', error)\n      return false\n    }\n  }\n\n  const logout = () => {\n    localStorage.removeItem('token')\n    setUser(null)\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        isAuthenticated: !!user,\n        login,\n        register,\n        logout,\n        loading,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  )\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext)\n  if (!context) {\n    throw new Error(\"useAuth must be used within an AuthProvider\")\n  }\n  return context\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAEA;;;AAJA;;;AAeA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,gCAAgC;IAChC,IAAA,0KAAS;kCAAC;YACR,MAAM;mDAAW;oBACf,MAAM,QAAQ,uCAAgC,aAAa,OAAO,CAAC,WAAW;oBAC9E,IAAI,OAAO;wBACT,IAAI;4BACF,MAAM,WAAW,MAAM,oJAAW,CAAC,cAAc;4BACjD,QAAQ;wBACV,EAAE,OAAO,OAAO;4BACd,0BAA0B;4BAC1B,aAAa,UAAU,CAAC;wBAC1B;oBACF;oBACA,WAAW;gBACb;;YACA;QACF;iCAAG,EAAE;IAEL,MAAM,QAAQ,OAAO,OAAe;QAClC,IAAI;YACF,MAAM,WAAW,MAAM,oJAAW,CAAC,KAAK,CAAC;gBAAE;gBAAO;YAAS;YAC3D,aAAa,OAAO,CAAC,SAAS,SAAS,KAAK;YAC5C,QAAQ,SAAS,IAAI;YACrB,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,OAAO;QACT;IACF;IAEA,MAAM,WAAW,OAAO,OAAe,UAAkB;QACvD,IAAI;YACF,MAAM,WAAW,MAAM,oJAAW,CAAC,QAAQ,CAAC;gBAAE;gBAAO;gBAAU;YAAS;YACxE,aAAa,OAAO,CAAC,SAAS,SAAS,KAAK;YAC5C,QAAQ,SAAS,IAAI;YACrB,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,mBAAmB;YACjC,OAAO;QACT;IACF;IAEA,MAAM,SAAS;QACb,aAAa,UAAU,CAAC;QACxB,QAAQ;IACV;IAEA,qBACE,6LAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA,iBAAiB,CAAC,CAAC;YACnB;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;GAjEgB;KAAA;AAmET,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}}]
}